{"version":3,"sources":["components/Button/Button.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","services/settings.js","services/pixabay-api.js","App.js","index.js"],"names":["module","exports","Container","children","className","style","container","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","type","onChange","autocomplete","autofocus","placeholder","Component","ImageGalleryItem","id","user","webformatURL","largeImageURL","src","alt","ImageGallery","images","map","Loader","styles","div_loader","color","height","width","Button","onLoadMore","div_button","button","onClick","data","API_KEY","PER_PAGE","instance","axios","create","defaults","baseURL","searchQuery","currentPage","get","timeout","then","response","App","isLoading","totalImages","error","fetchImages","options","pixabayApi","console","log","imagesQuery","hits","total","prevState","catch","finally","onChangeQuery","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","diffCurrentLoadImages","length","isShowLoadMore","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,WAAa,2BAA2B,OAAS,yB,mBCAnED,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,WAAa,6B,qLCOhBC,EAJG,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAChB,qBAAKC,UAAWC,IAAMC,UAAtB,SAAkCH,KCkCrBI,E,4MApCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAACC,GACd,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,S,EAGzCC,aAAe,SAACJ,GACdA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,wBAAQL,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAac,SAAUC,KAAKJ,aAA5C,UACE,wBAAQK,KAAK,SAAShB,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVgB,KAAK,OACLN,MAAOK,KAAKX,MAAMC,MAClBY,SAAUF,KAAKT,aACfY,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA7BAC,aCQTC,EARU,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,GAAIC,EAAwC,EAAxCA,KAAqBC,GAAmB,EAAlCC,cAAkC,EAAnBD,cACnD,OACE,oBAAazB,UAAU,mBAAvB,SACE,qBAAK2B,IAAKF,EAAcG,IAAKJ,EAAMxB,UAAU,4BADtCuB,ICeEM,EAfM,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtB,OACE,oBAAI9B,UAAU,eAAd,SACG8B,EAAOC,KAAI,gBAAGR,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAME,EAAb,EAAaA,cAAeD,EAA5B,EAA4BA,aAA5B,OACV,cAAC,EAAD,CACEF,GAAIA,EACJC,KAAMA,EACNE,cAAeA,EACfD,aAAcA,U,yBCKTO,E,4JATb,WACE,OACE,qBAAKhC,UAAWiC,IAAOC,WAAvB,SACE,cAAC,IAAD,CAAYlB,KAAK,OAAOmB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,W,GAL9ChB,a,iBCQNiB,EAVA,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAChB,OACE,qBAAKvC,UAAWiC,IAAOO,WAAvB,SACE,wBAAQxC,UAAWiC,IAAOQ,OAAQC,QAASH,EAA3C,0B,QCHSI,EAFF,CAAEC,QAAS,qCAAsCC,SAAU,ICClEC,E,OAAWC,EAAMC,SACvBF,EAASG,SAASC,QAAU,2BAK5B,IAce,EAdK,SAAC,GAA2C,IAAD,IAAxCC,mBAAwC,MAA1B,GAA0B,MAAtBC,mBAAsB,MAAR,EAAQ,EACvD/C,EAAK,aAAS8C,EAAT,iBAA6BC,EAA7B,gBAAgDT,EAAKC,QAArD,6DAAiHD,EAAKE,UAUjI,OALoBC,EACjBO,IADiB,UACVhD,GAAS,CACfiD,QAAS,MAEVC,MAAK,SAACC,GAAD,OAAcA,EAASb,SCRZc,E,4MACnBrD,MAAQ,CACN0B,OAAQ,GACRqB,YAAa,GACbC,YAAa,EACbM,WAAW,EACXC,YAAa,EACbC,MAAO,M,EA2BTC,YAAc,WACZ,MAAqC,EAAKzD,MAAlCgD,EAAR,EAAQA,YACFU,EAAU,CAAEX,YADlB,EAAqBA,YACUC,eAG/B,EAAK5C,SAAS,CAAEkD,WAAW,IAE3BK,EACeD,GACZP,MAAK,SAACZ,GACLqB,QAAQC,IAAI,0BAA2BtB,GAEvC,IAAMuB,EAAcvB,EAAKwB,KACnBR,EAAchB,EAAKyB,MACzB,EAAK5D,UAAS,SAAC6D,GAAD,MAAgB,CAC5BvC,OAAO,GAAD,mBAAMuC,EAAUvC,QAAhB,YAA2BoC,IACjCP,YAAaA,EACbP,YAAaiB,EAAUjB,YAAc,SAGxCkB,OAAM,SAACV,GAAD,OAAW,EAAKpD,SAAS,CAAEoD,aACjCW,SAAQ,kBAAM,EAAK/D,SAAS,CAAEkD,WAAW,Q,EAG9Cc,cAAgB,SAACnE,GACf2D,QAAQC,IAAI,gBAAiB5D,GAC7B,EAAKG,SAAS,CACZ2C,YAAa9C,EACb+C,YAAa,EACbtB,OAAQ,GACR8B,MAAO,Q,EAIXrB,WAAa,WACX,EAAKsB,e,uDA3DP,WACEG,QAAQC,IAAI,yBAEZ,MAAqClD,KAAKX,MAA1C,EAAQ+C,YAAR,EAAqBC,YAErBrC,KAAK8C,cAELY,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,gCAId,SAAmBC,EAAWX,GACxBA,EAAUlB,cAAgBpC,KAAKX,MAAM+C,aACvCpC,KAAK8C,cAGPY,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,oBA0Cd,WACE,MAA2ChE,KAAKX,MAAxC0B,EAAR,EAAQA,OAAQ4B,EAAhB,EAAgBA,UACVuB,EADN,EAA2BtB,YACiB7B,EAAOoD,OAC7CC,EACJrD,EAAOoD,OAAS,GAAKD,EAAwB,IAAMvB,EAErD,OACE,eAAC,EAAD,WACE,cAAC,EAAD,CAAW5C,SAAUC,KAAKyD,gBACzB1C,EAAOoD,OAAS,GAAK,cAAC,EAAD,CAAcpD,OAAQA,IAE3C4B,GAAa,cAAC,EAAD,IAEbyB,GAAkB,cAAC,EAAD,CAAQ5C,WAAYxB,KAAKwB,aAE3CT,EAAOoD,OAAS,GACf,gCACE,uBACA,uBACA,uBACA,uBACA,uBACA,uBAEA,yCACA,cAAC,IAAD,CACElE,KAAK,WACLmB,MAAM,UACNC,OAAQ,GACRC,MAAO,KAET,0CACA,cAAC,IAAD,CACErB,KAAK,YACLmB,MAAM,UACNC,OAAQ,GACRC,MAAO,KAET,6CACA,cAAC,IAAD,CACErB,KAAK,eACLmB,MAAM,UACNC,OAAQ,GACRC,MAAO,KAET,qCACA,cAAC,IAAD,CAAYrB,KAAK,OAAOmB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAC3D,wCACA,cAAC,IAAD,CAAYrB,KAAK,UAAUmB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAC9D,qCACA,cAAC,IAAD,CAAYrB,KAAK,OAAOmB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAE3D,qCACA,cAAC,IAAD,CAAYrB,KAAK,OAAOmB,MAAM,UAAUC,OAAQ,GAAIC,MAAO,e,GA7HtChB,a,MCJjC+D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFV,SAASW,eAAe,W","file":"static/js/main.1af8d268.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"div_button\":\"Button_div_button__Xrbaf\",\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div_loader\":\"Loader_div_loader__2XBYZ\"};","import React from \"react\";\n\nimport style from \"./Container.module.css\";\n\nconst Container = ({ children }) => (\n  <div className={style.container}>{children}</div>\n);\n\nexport default Container;\n","import React, { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = { query: \"\" };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\n\nconst ImageGalleryItem = ({ id, user, largeImageURL, webformatURL }) => {\n  return (\n    <li key={id} className=\"ImageGalleryItem\">\n      <img src={webformatURL} alt={user} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nconst ImageGallery = ({ images }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(({ id, user, largeImageURL, webformatURL }) => (\n        <ImageGalleryItem\n          id={id}\n          user={user}\n          largeImageURL={largeImageURL}\n          webformatURL={webformatURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport LoaderItem from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport styles from \"./Loader.module.css\";\n\nclass Loader extends Component {\n  //other logic\n  render() {\n    return (\n      <div className={styles.div_loader}>\n        <LoaderItem type=\"Oval\" color=\"#00BFFF\" height={60} width={60} />\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React from \"react\";\n\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <div className={styles.div_button}>\n      <button className={styles.button} onClick={onLoadMore}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n\nconst data = { API_KEY: \"21791373-989f8b5e7418bf068b731f5c9\", PER_PAGE: 12 };\n\nexport default data;\n","import axios from \"axios\";\nimport data from \"./settings\";\n\nconst instance = axios.create();\ninstance.defaults.baseURL = \"https://pixabay.com/api/\";\n// instance.defaults.timeout = 2000;\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1 }) => {\n  const query = `?q=${searchQuery}&page=${currentPage}&key=${data.API_KEY}&image_type=photo&orientation=horizontal&per_page=${data.PER_PAGE}`;\n\n  // console.log(\"fetchImages ~ searchQuery: \", searchQuery);\n  // console.log(\"fetchImages ~ currentPage: \", currentPage);\n\n  const userRequest = instance\n    .get(`${query}`, {\n      timeout: 10000,\n    })\n    .then((response) => response.data);\n  return userRequest;\n};\n\nexport default { fetchImages };\n","import React, { Component } from \"react\";\nimport LoaderItem from \"react-loader-spinner\";\n\nimport Container from \"./components/Container\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Loader from \"./components/Loader\";\nimport Button from \"./components/Button\";\n\nimport pixabayApi from \"./services/pixabay-api\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    currentPage: 1,\n    isLoading: false,\n    totalImages: 0,\n    error: null,\n  };\n\n  componentDidMount() {\n    console.log(\"App componentDidMount\");\n\n    const { searchQuery, currentPage } = this.state;\n\n    this.fetchImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n    // console.log(\"App ~ options: \", options);\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .fetchImages(options)\n      .then((data) => {\n        console.log(\"APP pixabayApi ~ data: \", data);\n\n        const imagesQuery = data.hits;\n        const totalImages = data.total;\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...imagesQuery],\n          totalImages: totalImages,\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onChangeQuery = (query) => {\n    console.log(\"App ~ query: \", query);\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  onLoadMore = () => {\n    this.fetchImages();\n  };\n\n  render() {\n    const { images, isLoading, totalImages } = this.state;\n    const diffCurrentLoadImages = totalImages - images.length;\n    const isShowLoadMore =\n      images.length > 0 && diffCurrentLoadImages > 0 && !isLoading;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {images.length > 0 && <ImageGallery images={images} />}\n\n        {isLoading && <Loader />}\n\n        {isShowLoadMore && <Button onLoadMore={this.onLoadMore} />}\n\n        {images.length < 0 && (\n          <div>\n            <br />\n            <br />\n            <br />\n            <hr />\n            <hr />\n            <hr />\n\n            <p>TailSpin</p>\n            <LoaderItem\n              type=\"TailSpin\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n            />\n            <p>ThreeDots</p>\n            <LoaderItem\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n            />\n            <p>BallTriangle</p>\n            <LoaderItem\n              type=\"BallTriangle\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n            />\n            <p>Bars</p>\n            <LoaderItem type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n            <p>Circles</p>\n            <LoaderItem type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n            <p>Grid</p>\n            <LoaderItem type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\n\n            <p>Oval</p>\n            <LoaderItem type=\"Oval\" color=\"#00BFFF\" height={80} width={80} />\n          </div>\n        )}\n      </Container>\n    );\n  }\n}\n\n// export default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\n\nimport App from \"./App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}